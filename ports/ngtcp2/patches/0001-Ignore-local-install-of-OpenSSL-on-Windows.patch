From 25e1eba0ede68ac34b3ef467f3fa652351871b89 Mon Sep 17 00:00:00 2001
From: Don Olmstead <don.j.olmstead@gmail.com>
Date: Wed, 16 Oct 2024 15:45:33 -0700
Subject: [PATCH 1/2] Ignore local install of OpenSSL on Windows

Issue occurred when running in GitHub actions
---
 CMakeLists.txt | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index b6e1faf2..fbfe533d 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -116,6 +116,15 @@ if(NOT CMAKE_C_COMPILER_ID MATCHES "MSVC")
   endif()
 endif()
 
+# Ignore OpenSSL install on Windows GitHub Actions
+if(WIN32)
+  file(TO_CMAKE_PATH "$ENV{PROGRAMFILES}" _program_files)
+  set(CMAKE_IGNORE_PATH
+    "${_program_files}/OpenSSL/lib"
+    "${_program_files}/OpenSSL/lib/VC"
+  )
+endif()
+
 if(ENABLE_GNUTLS)
   find_package(GnuTLS 3.7.2)
 endif()
-- 
2.47.0.windows.1

